<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<title>王者选路小助手·带理由版</title>
<style>
  body{font-family:Arial,Helvetica,sans-serif;margin:40px;background:#f7f7f7}
  h2{color:#444}
  .row{margin:8px 0}
  label{display:inline-block;width:100px;font-weight:bold}
  select,button{padding:6px;font-size:14px}
  #result{margin-top:25px;font-size:15px;line-height:1.8}
  .card{background:#fff;border:1px solid #ddd;border-radius:6px;padding:10px 14px;margin:8px 0;display:flex;align-items:center;justify-content:space-between}
  .hero{font-weight:bold;font-size:18px;color:#0094ff}
  .reason{font-size:14px;color:#555;margin-left:20px}
</style>
</head>
<body>

<h2>① 敌方阵容（逗号分隔，如：兰陵王,鲁班大师）</h2>
<div class="row">
  <label>敌方英雄：</label>
  <input type="text" id="enemyInput" placeholder="兰陵王,鲁班大师" style="width:260px"/>
</div>

<h2>② 我方已选（逗号分隔，可空）</h2>
<div class="row">
  <label>我方英雄：</label>
  <input type="text" id="allyInput" placeholder="可留空" style="width:260px"/>
</div>

<h2>③ 我要看哪一路的推荐？</h2>
<div class="row">
  <label>分路：</label>
  <select id="laneSel">
    <option value="中路">中路</option>
    <option value="发育路">发育路</option>
    <option value="对抗路">对抗路</option>
    <option value="打野">打野</option>
  </select>
</div>

<button onclick="calc()">生成推荐</button>

<div id="result"></div>

<script>
/* ================= 数据 ================= */
const DATA={
  中路:[
    {name:"甄姬",   搭配:["李元芳","兰陵王","吕布"],      克制:["白起","猪八戒","鲁班大师"]},
    {name:"妲己",   搭配:["钟馗","李元芳","赵云"],      克制:["露娜","高渐离","暃"]},
    {name:"墨子",   搭配:["百里守约","虞姬","兰陵王"],  克制:["老夫子","孙悟空","姜子牙"]},
    {name:"姜子牙", 搭配:["典韦","哪吒","百里守约"],    克制:["米莱狄","阿古朵","大司命"]},
    {name:"大乔",   搭配:["公孙离","老夫子","敖隐"],    克制:["阿古朵","狄仁杰","奕星"]},
    {name:"王昭君", 搭配:["鬼谷子","黄忠","程咬金"],    克制:["盾山","扁鹊","夏侯惇"]},
    {name:"小乔",   搭配:["鬼谷子","朵莉亚","鲁班大师"],克制:["公孙离","杨玉环","芈月"]},
    {name:"安琪拉", 搭配:["钟馗","兰陵王","庄周"],      克制:["黄忠","鲁班七号","扁鹊"]},
    {name:"张良",   搭配:["后羿","鲁班七号","关羽"],    克制:["上官婉儿","貂蝉","公孙离"]},
    {name:"女娲",   搭配:["朵莉亚","狂铁","哪吒"],      克制:["李白","阿古朵","鬼谷子"]},
    {name:"诸葛亮", 搭配:["蒙恬","张飞","元流之子（射手）"],克制:["韩信","刘备","太乙真人"]},
    {name:"米莱狄", 搭配:["刘禅","夏侯惇","伽罗"],      克制:["甄姬","沈梦溪","公孙离"]},
    {name:"金蝉",   搭配:["虞姬","莱西奥","赵云"],      克制:["鬼谷子","露娜","鲁班大师"]},
    {name:"海诺",   搭配:["张飞","百里守约","李白"],    克制:["庄周","阿古朵","吕布"]},
    {name:"干将莫邪",搭配:["朵莉亚","狂铁","铠"],        克制:["阿古朵","庄周","澜"]},
    {name:"貂蝉",   搭配:["瑶","韩信","马可波罗"],      克制:["哪吒","庄周","雅典娜"]},
    {name:"嬴政",   搭配:["赵云","朵莉亚"],             克制:["赵怀真","鲁班七号","哪吒"]},
    {name:"武则天", 搭配:["朵莉亚"],                    克制:["鬼谷子","阿轲","鲁班大师"]},
    {name:"西施",   搭配:["公孙离","马超","露娜"],      克制:["大司命","扁鹊","阿古朵"]},
    {name:"司马懿", 搭配:["廉颇","鬼谷子","苏烈"],      克制:["阿轲","鬼谷子","兰陵王"]},
    {name:"弈星",   搭配:["吕布","苏烈","马克波罗"],    克制:["明世隐","阿轲","盾山"]},
    {name:"海月",   搭配:["朵莉亚","戈娅","艾琳"],      克制:["云中君","韩信","元歌"]},
    {name:"元流之子（法师）",搭配:["哪吒","莱西奥","空空儿"],克制:["大司命","狄仁杰","盾山"]},
    {name:"杨玉环", 搭配:["敖隐","白起","狄仁杰"],      克制:["干将莫邪","云中军","鲁班大师"]},
    {name:"沈梦溪", 搭配:["裴擒虎","狂铁","张飞"],      克制:["干将莫邪","杨戬","元流之子（法师）"]},
    {name:"扁鹊",   搭配:["太乙真人","孙膑","白起"],    克制:["哪吒","公孙离","赵怀真"]},
    {name:"周瑜",   搭配:["太乙真人","阿轲","李元芳"],  克制:["盾山","宫本武藏","阿古朵"]},
    {name:"不知火舞",搭配:["少司缘","瑶","杨戬"],        克制:["元流之子（法师）","西施","关羽"]},
    {name:"上官婉儿",搭配:["朵莉亚"],                  克制:["元流之子（法师）","姜子牙","阿古朵"]},
    {name:"高渐离", 搭配:["鬼谷子","孙策","朵莉亚"],    克制:["空空儿","米莱狄","元歌"]},
    {name:"嫦娥",   搭配:["孙膑","张飞"],               克制:["曜","雅典娜","马超"]}
  ],
  发育路:[
    {name:"艾琳",   搭配:["张飞","明世隐","蔡文姬"],    克制:["狄仁杰","阿古朵","典韦"]},
    {name:"虞姬",   搭配:["墨子","赵云","大乔"],        克制:["孙悟空","公孙离","莱西奥"]},
    {name:"马可波罗",搭配:["瑶","鬼谷子","朵莉亚"],      克制:["亚连","黄忠","猪八戒"]},
    {name:"孙权",   搭配:["瑶","少司缘","桑启"],        克制:["赵云","庄周","蔡文姬"]},
    {name:"狄仁杰", 搭配:["元流之子（辅助）","盾山","蔡文姬"],克制:["鲁班大师","钟馗","白起"]},
    {name:"后羿",   搭配:["明世隐","朵莉亚","盾山"],    克制:["嫦娥","裴擒虎","少司缘"]},
    {name:"孙尚香", 搭配:["盾山","明世隐","太乙真人"],  克制:["铠","元流之子（射手）","艾琳"]},
    {name:"公孙离", 搭配:["瑶","少司缘","大乔"],        克制:["上官婉儿","干将莫邪","亚连"]},
    {name:"元流之子（射手）",搭配:["张飞","少司缘","诸葛亮"],克制:["元歌","狄仁杰","阿古朵"]},
    {name:"敖隐",   搭配:["朵莉亚","杨玉环","少司缘"],  克制:["马可波罗","上官婉儿","哪吒"]},
    {name:"李元芳", 搭配:["妲己","刘禅","廉颇"],        克制:["鬼谷子","兰陵王","嫦娥"]},
    {name:"鲁班七号",搭配:["盾山","鲁班大师","钟馗"],    克制:["盾山","猪八戒","嫦娥"]},
    {name:"戈娅",   搭配:["朵莉亚","少司缘","海月"],    克制:["阿古朵","猪八戒","白起"]},
    {name:"莱西奥", 搭配:["朵莉亚","明世隐","元流之子（法师）"],克制:["周瑜","东皇太一","戈娅"]},
    {name:"阿古朵", 搭配:["太乙真人","关羽","扁鹊"],    克制:["刘备","大司命","海月"]},
    {name:"伽罗",   搭配:["明世隐","妲己","庄周"],      克制:["刘备","瑶","海月"]},
    {name:"百里守约",搭配:["墨子","姜子牙","王昭君"],    克制:["兰陵王","鬼谷子","阿轲"]},
    {name:"黄忠",   搭配:["牛魔","项羽","王昭君"],      克制:["盾山","诸葛亮","金蝉"]},
    {name:"苍",     搭配:["空空儿","张飞","朵莉亚"],    克制:["铠","马可波罗","刘备"]},
    {name:"蒙犽",   搭配:["雅典娜","孙策","明世隐"],    克制:["阿古朵","盘古","刘备"]}
  ],
  对抗路:[
    {name:"哪吒",   搭配:["伽罗","姜子牙","后羿"],      克制:["兰陵王","牛魔","庄周"]},
    {name:"蚩奼",   搭配:["西施","张飞","弈星"],        克制:["司马懿","貂蝉","李信"]},
    {name:"铠",     搭配:["朵莉亚","干将莫邪","女娲"],  克制:["刘备","蚩奼","嫦娥"]},
    {name:"曹操",   搭配:["盾山","敖隐","海月"],        克制:["貂蝉","司马懿","哪吒"]},
    {name:"吕布",   搭配:["朵莉亚","弈星","鲁班七号"],  克制:["梦奇","钟无艳","夏侯惇"]},
    {name:"狂铁",   搭配:["瑶","少司缘","沈梦溪"],      克制:["蒙恬","空空儿","海月"]},
    {name:"杨戬",   搭配:["朵莉亚","不知火舞","大乔"],  克制:["盘古","墨子","妲己"]},
    {name:"项羽",   搭配:["黄忠"],                      克制:["盘古","老夫子","盾山"]},
    {name:"司空震", 搭配:["西施","张飞"],                克制:["亚连","哪吒","李信"]},
    {name:"貂蝉",   搭配:["瑶","马可波罗","韩信"],      克制:["庄周","哪吒","雅典娜"]},
    {name:"马超",   搭配:["孙膑","瑶","西施"],          克制:["亚连","元歌","元流之子（法师）"]},
    {name:"海诺",   搭配:["张飞","虞姬","百里守约"],    克制:["庄周","阿古朵","吕布"]},
    {name:"夏侯惇", 搭配:["金蝉","张良","莱西奥"],      克制:["海月","老夫子","东皇太一"]},
    {name:"大司命", 搭配:["墨子","虞姬","张良"],        克制:["不知火舞","钟无艳","赵怀真"]},
    {name:"东皇太一",搭配:["鲁班七号","后羿","黄忠"],    克制:["姬小满","花木兰","老夫子"]},
    {name:"夏洛特", 搭配:["张飞"],                      克制:["李信","元歌","吕布"]},
    {name:"廉颇",   搭配:["李元芳","司马懿","阿轲"],    克制:["孙策","钟馗","刘禅"]},
    {name:"花木兰", 搭配:["少司缘","西施","桑启"],      克制:["王昭君","老夫子","盘古"]},
    {name:"苏烈",   搭配:["沈梦溪","嫦娥","戈娅"],      克制:["司马懿","盾山","蔡文姬"]},
    {name:"关羽",   搭配:["明世隐","庄周","钟馗"],      克制:["元流之子法师","阿古朵","蔡文姬"]},
    {name:"孙策",   搭配:["蒙犽","鬼谷子","高渐离"],    克制:["百里玄策","元流之子法师辅助","少司缘"]},
    {name:"李信",   搭配:["刘禅","盾山","张飞"],        克制:["吕布","扁鹊","甄姬"]},
    {name:"曜",     搭配:["西施","少司缘"],              克制:["安琪拉","元流之子法师","亚连"]},
    {name:"元歌",   搭配:["张飞","桑启","西施"],        克制:["王昭君","白起","鬼谷子"]},
    {name:"亚瑟",   搭配:["虞姬"],                      克制:["公孙离","姬小满","镜"]},
    {name:"橘右京", 搭配:["张飞"],                      克制:["盘古","李信","刘备"]},
    {name:"嫦娥",   搭配:["张飞","公孙离","敖隐"],      克制:["马超","曜","上官婉儿"]},
    {name:"白起",   搭配:["扁鹊","孙膑","杨玉环"],      克制:["程咬金","妲己","亚瑟"]},
    {name:"老夫子", 搭配:["大乔"],                      克制:["嬴政","嫦娥","刘邦"]},
    {name:"芈月",   搭配:["牛魔","盾山","张飞"],        克制:["哪吒","扁鹊","甄姬"]},
    {name:"盘古",   搭配:["孙尚香"],                    克制:["司马懿","蚩奼","老夫子"]},
    {name:"程咬金", 搭配:["妲己","虞姬"],                克制:["芈月","刘备","百里守约"]},
    {name:"达摩",   搭配:["鬼谷子","张飞","马可波罗"],  克制:["阿轲","盘古","元流之子（法师）"]},
    {name:"猪八戒", 搭配:["孙膑","大乔","沈梦溪"],      克制:["蒙恬","孙策","苍"]},
    {name:"影",     搭配:["张飞"],                      克制:["司马懿","东皇太一","刘备"]},
    {name:"蒙恬",   搭配:["裴擒虎","沈梦溪","公孙离"],  克制:["嬴政","刘备","阿古朵"]},
    {name:"刘邦",   搭配:["明世隐","雅典娜","镜"],      克制:["司马懿","上官婉儿","雅典娜"]},
    {name:"元流之子坦克",搭配:["干将莫邪","艾琳","沈梦溪"],克制:["上官婉儿","关羽","海月"]},
    {name:"钟无艳", 搭配:["虞姬","张良"],                克制:["盘古","老夫子","芈月"]},
    {name:"姬小满", 搭配:["上官婉儿","张飞"],            克制:["元流之子法师","盘古","百里玄策"]},
    {name:"亚连",   搭配:["朵莉亚"],                    克制:["典韦","黄忠","孙策"]},
    {name:"赵怀真", 搭配:["女娲","孙权","西施"],        克制:["上官婉儿","百里玄策","西施"]},
    {name:"梦奇",   搭配:["瑶"],                        克制:["雅典娜·","宫本武藏","白起"]}
  ],
  打野:[
    {name:"宫本武藏",搭配:["朵莉亚","干将莫邪","艾琳"],  克制:["程咬金","李元芳","蔡文姬"]},
    {name:"蚩奼",   搭配:["西施","张飞","桑启"],        克制:["司马懿","李信","貂蝉"]},
    {name:"韩信",   搭配:["瑶","蒙恬","孙权"],          克制:["甄姬","王昭君","姜子牙"]},
    {name:"诸葛亮", 搭配:["张飞","狂铁","蔡文姬"],      克制:["韩信","刘备","阿古朵"]},
    {name:"哪吒",   搭配:["姜子牙","伽罗","嬴政"],      克制:["兰陵王","牛魔","庄周"]},
    {name:"铠",     搭配:["朵莉亚","干将莫邪","西施"],  克制:["刘备","嫦娥","蚩奼"]},
    {name:"孙悟空", 搭配:["鬼谷子"],                    克制:["司马懿","娜可露露","露娜"]},
    {name:"澜",     搭配:["瑶","马可波罗","鬼谷子"],    克制:["阿古朵","赵云","元流之子法师"]},
    {name:"曹操",   搭配:["盾山","海月","干将莫邪"],    克制:["貂蝉","百里玄策","廉颇"]},
    {name:"司空震", 搭配:["西施","张飞","铠"],          克制:["亚连","哪吒","李信"]},
    {name:"云缨",   搭配:["朵莉亚"],                    克制:["百里玄策","鲁班大师","老夫子"]},
    {name:"马超",   搭配:["孙膑","少司缘","瑶"],        克制:["亚连","元流之子法师","元歌"]},
    {name:"李元芳", 搭配:["刘禅","甄姬","米莱狄"],      克制:["鬼谷子","嫦娥","兰陵王"]},
    {name:"大司命", 搭配:["妲己","虞姬","张良"],        克制:["钟无艳","不知火舞","高渐离"]},
    {name:"夏侯惇", 搭配:["金蝉"],                      克制:["海月","东皇太一","老夫子"]},
    {name:"杨戬",   搭配:["朵莉亚","大乔","小乔"],      克制:["盘古","墨子","妲己"]},
    {name:"李白",   搭配:["蔡文姬","墨子","钟馗"],      克制:["甄姬","姜子牙","阿古朵"]},
    {name:"杨玉环", 搭配:["白起","敖隐","狂铁"],        克制:["干将莫邪","云中君","廉颇"]},
    {name:"典韦",   搭配:["东皇太一","金蝉","张良"],    克制:["盾山","宫本武藏","暃"]},
    {name:"赵云",   搭配:["妲己","东皇太一","张良"],    克制:["盘古","海月","盾山"]},
    {name:"裴擒虎", 搭配:["蒙恬","瑶","沈梦溪"],        克制:["雅典娜","刘备","哪吒"]},
    {name:"司马懿", 搭配:["苏烈","鬼谷子","廉颇"],      克制:["阿轲","兰陵王","鬼谷子"]},
    {name:"孙策",   搭配:["蒙犽","鬼谷子","高渐离"],    克制:["百里玄策","元流之子法师辅助","少司缘"]},
    {name:"镜",     搭配:["瑶","朵莉亚","少司缘"],      克制:["元流之子法师","元歌","元流之子射手"]},
    {name:"曜",     搭配:["西施","少司缘"],              克制:["安琪拉","元流之子法师","亚连"]},
    {name:"阿古朵", 搭配:["太乙真人","扁鹊","关羽"],      克制:["刘备","钟馗","大司命"]},
    {name:"亚瑟",   搭配:["虞姬"],                      克制:["公孙离","姬小满","镜"]},
    {name:"橘右京", 搭配:["张飞"],                      克制:["盘古","李信","刘备"]},
    {name:"暃",     搭配:["瑶","少司缘","小乔"],        克制:["周瑜","干将莫邪","李白"]},
    {name:"嫦娥",   搭配:["张飞","公孙离","敖隐"],      克制:["马超","曜","上官婉儿"]},
    {name:"百里玄策",搭配:["瑶","明世隐"],                克制:["阿轲","露娜","干将莫邪"]},
    {name:"芈月",   搭配:["牛魔","盾山","张飞"],        克制:["哪吒","扁鹊","甄姬"]},
    {name:"盘古",   搭配:["孙尚香"],                    克制:["司马懿","蚩奼","老夫子"]},
    {name:"娜可露露",搭配:["鬼谷子","瑶"],                克制:["刘备","铠","猪八戒"]},
    {name:"苍",     搭配:["张飞","明世隐","桑启"],      克制:["刘备","铠","马可波罗"]},
    {name:"影",     搭配:["张飞"],                      克制:["司马懿","东皇太一","刘备"]},
    {name:"刘备",   搭配:["鬼谷子"],                    克制:["盘古","司马懿","钟馗"]},
    {name:"阿轲",   搭配:["廉颇","牛魔"],                克制:["伽罗","铠","刘备"]},
    {name:"露娜",   搭配:["瑶","少司缘","公孙离"],      克制:["空空儿","元流之子法师","蒙恬"]},
    {name:"元流之子坦克",搭配:["干将莫邪","艾琳","沈梦溪"],克制:["上官婉儿","关羽","海月"]},
    {name:"兰陵王", 搭配:["安琪拉","黄忠","甄姬"],        克制:["伽罗","盘古","铠"]},
    {name:"钟无艳", 搭配:["虞姬","张良"],                克制:["盘古","老夫子","芈月"]},
    {name:"赵怀真", 搭配:["女娲","孙权","西施"],        克制:["上官婉儿","百里玄策","西施"]},
    {name:"雅典娜", 搭配:["蒙犽","明世隐","刘邦"],      克制:["姜子牙","钟馗","元流之子法师"]},
    {name:"云中君", 搭配:["朵莉亚","瑶","安琪拉"],      克制:["猪八戒","李元芳","扁鹊"]},
    {name:"梦奇",   搭配:["瑶"],                        克制:["雅典娜","宫本武藏","白起"]}
  ]
};

/* ================= 逻辑 ================= */
function calc(){
  const enemyRaw=document.getElementById('enemyInput').value.trim();
  const allyRaw =document.getElementById('allyInput').value.trim();
  const lane     =document.getElementById('laneSel').value;

  if(!enemyRaw){alert('请至少输入敌方英雄！');return;}

  const enemies=enemyRaw.split(/[,，]/).map(s=>s.trim()).filter(Boolean);
  const allies =allyRaw.split(/[,，]/).map(s=>s.trim()).filter(Boolean);

  const list=DATA[lane];
  if(!list){alert('未找到该分路数据');return;}

  const counterMap=new Map();   // hero -> 克制理由
  const comboMap  =new Map();   // hero -> 搭配理由

  /* 1. 谁克制对面？ */
  enemies.forEach(e=>{
    list.forEach(row=>{
      if(row.克制.includes(e)){
        const prev=counterMap.get(row.name)||[];
        prev.push(`克制敌方 ${e}`);
        counterMap.set(row.name,prev);
      }
    });
  });

  /* 2. 谁与己方已有英雄有搭配？ */
  if(allies.length){
    allies.forEach(a=>{
      list.forEach(row=>{
        if(row.搭配.includes(a)){
          const prev=comboMap.get(row.name)||[];
          prev.push(`与己方 ${a} 有良好配合`);
          comboMap.set(row.name,prev);
        }
      });
    });
  }

  /* 3. 合并 & 去重 */
  const merged=new Map();
  [...counterMap.entries(),...comboMap.entries()].forEach(([h,arr])=>{
    if(!merged.has(h)) merged.set(h,[]);
    merged.get(h).push(...arr);
  });

  /* 4. 输出 */
  const box=document.getElementById('result');
  if(merged.size){
    let html='<h3>推荐在本路选用：</h3>';
    merged.forEach((reasons,h)=>{
      html+=`<div class="card">
               <span class="hero">${h}</span>
               <span class="reason">${reasons.join('；')}。</span>
             </div>`;
    });
    box.innerHTML=html;
  }else{
    box.innerHTML='<h3>本路暂无明确克制/搭配数据，请酌情选择！</h3>';
  }
}
</script>
</body>
</html>